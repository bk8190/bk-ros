<!-- Brings up the planner -->
<launch>
	<node pkg="bk_planner" type="bk_planner" respawn="false" name="bk_planner" output="screen">
		
		<!-- Common costmap parameters (both global and local) -->
		<rosparam file="$(find bk_configs)/$(optenv ROBOT sim)/nav/costmap_common_params.yaml"
			command="load" ns="local_costmap"  />
		<rosparam file="$(find bk_configs)/$(optenv ROBOT sim)/nav/costmap_common_params.yaml"
			command="load" ns="global_costmap" />
		
		<!-- Costmap parameters specific to global or local -->
		<rosparam file="$(find bk_configs)/$(optenv ROBOT sim)/nav/costmap_local_params.yaml"
			command="load" ns="local_costmap"  />
		<rosparam file="$(find bk_configs)/$(optenv ROBOT sim)/nav/costmap_global_params.yaml" 
			command="load" ns="global_costmap" />
		
		<!-- Lattice planner parameters -->
		<rosparam file="$(find bk_configs)/common/nav/sbpl_global_params.yaml"
			command="load" ns="lattice_planner" />
		<param name="lattice_planner/primitive_filename" value="$(find sbpl)/matlab/mprim/unicycle_backonlystraight.mprim" />
		
		<!-- Path checker parameters -->
		<rosparam file="$(find bk_configs)/common/nav/path_checker_params.yaml"
			command="load" ns="path_checker" />
			
		<!-- Finally, parameters for the planner itself -->
		<rosparam file="$(find bk_configs)/common/nav/bk_planner_params.yaml"
			command="load" />
		
		<!-- Topic remappings -->
		<remap from="goal" to="/move_base_simple/goal" />
		<remap from="plan" to="plan" />
		<remap from="plan_visualization" to="plan_visualization" />
	</node>
	
</launch>
